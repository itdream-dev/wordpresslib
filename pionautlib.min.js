
var version=1.0
var CONTRACT_ABI=[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"MintAmountPerPublicAddress","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"Whitelist","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"presaleAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"presaleMaxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"presaleOpen","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"price","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"publicMaxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"publicSaleAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"publicSaleLimitPerAddress","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"royaltyFeePercent1","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyFeePercent2","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyWallet1","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyWallet2","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"}],"name":"safeMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"saleOpen","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"newBaseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newAmount","type":"uint256"}],"name":"setPreSaleMaxSupply","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newPrice","type":"uint256"}],"name":"setPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newAmount","type":"uint256"}],"name":"setPublicSaleMaxSupply","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"togglePresale","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"toggleSale","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"who","type":"address[]"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"whitelistAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}];var CONTRACT_ADDRESS="0x3EcbB9Ef00126bA5199B1ee1239425Adf8D5feA6";var currentAccount="";var price=0;var chainId=0;var status=0;var provider=null;$(document).ready(function(){if(typeof window.ethereum!=='undefined'){console.log('MetaMask is installed!');connect();provider=new ethers.providers.Web3Provider(window.ethereum)}else{$("#generate_pionaut").hide();}
console.log("ready!");$("#generate_pionaut").click(function(){console.log('clicked')
buyToken()});$('.menu-item-261').click(function(){console.log('clicked connect')
if(typeof window.ethereum!=='undefined'){connect();}else{alert("Please install metamask to connect with website!");}});});async function handleAccountsChanged(accounts){console.log('Calling HandleChanged')
if(accounts.length===0){console.log('Please connect to MetaMask.');$('#generate_pionaut').prop("disabled",true);$('#generate_pionaut').html('Connect with Metamask')}else if(accounts[0]!==currentAccount){currentAccount=accounts[0];$('#status').html('')
if(currentAccount!=null){$('#generate_pionaut').prop("disabled",false);$('.menu-item-261 a').html(currentAccount.substr(0,10)+"...")
chainId=await ethereum.request({method:'eth_chainId'})
if(chainId!=4){$('#generate_pionaut').prop("disabled",true);$('#generate_pionaut').css('background-image',"linear-gradient(180deg, #79797978 0%, #605a5b 100%)");setMessage('You are on Wrong Network (Chain)!','error')
return;}
var contract=new ethers.Contract(CONTRACT_ADDRESS,['function price() public view returns (uint256)'],provider);price=await contract.price();console.log('price',ethers.utils.formatEther(price));$('#buypionaut > div > div > div > section > div > div.elementor-column.elementor-col-50.elementor-inner-column.elementor-element.elementor-element-c361370 > div > div.elementor-element.elementor-element-9b574d4.elementor-widget.elementor-widget-text-editor > div').html(`Price: ${ethers.utils.formatEther(price)} ETH`);}}
console.log('WalletAddress in HandleAccountChanged ='+currentAccount)}
function handleChainChanged(_chainId){console.log('handleChainChanged',chainId)
window.location.reload();}
function setMessage(message,type){if(type=='error'){$('#buypionaut > div > div > div > section > div > div.elementor-column.elementor-col-50.elementor-inner-column.elementor-element.elementor-element-c361370 > div > div.elementor-element.elementor-element-4d967bf.elementor-widget.elementor-widget-text-editor > div').css('color','red');}else if(type=="success"){$('#buypionaut > div > div > div > section > div > div.elementor-column.elementor-col-50.elementor-inner-column.elementor-element.elementor-element-c361370 > div > div.elementor-element.elementor-element-4d967bf.elementor-widget.elementor-widget-text-editor > div').css('color','green');}
$('#buypionaut > div > div > div > section > div > div.elementor-column.elementor-col-50.elementor-inner-column.elementor-element.elementor-element-c361370 > div > div.elementor-element.elementor-element-4d967bf.elementor-widget.elementor-widget-text-editor > div').html(message);}
function connect(){console.log('Calling connect()')
ethereum.request({method:'eth_requestAccounts'}).then(handleAccountsChanged).catch((err)=>{if(err.code===4001){console.log('Please connect to MetaMask.');$('#status').html('You refused to connect Metamask')}else{console.error(err);}});ethereum.on('chainChanged',handleChainChanged);ethereum.on('accountsChanged',handleAccountsChanged);}
async function checkTransaction()
{tx=localStorage.getItem('tx');if(tx&&tx!=""&&provider){provider.getTransactionReceipt(tx).then(function(transactionReceipt){console.log(transactionReceipt);if(transactionReceipt!=null){status=0;localStorage.setItem('tx',"");$('#generate_pionaut').html("Generate My Pionaut");setMessage("")}else{status=1;setTimeout(checkTransaction,1000);}});}else if(tx&&tx!=""){setTimeout(checkTransaction,1000);}else{status=0;}}
async function buyToken(){if(!provider)return;if(currentAccount=="")return;if(price==0)return;if(chainId!=4)return;if(status!=0)return;console.log('mint Token')
var signer=provider.getSigner();console.log('signer',signer);console.log('provider',provider);var contract=new ethers.Contract(CONTRACT_ADDRESS,CONTRACT_ABI,provider);try{console.log('currentAccount',currentAccount);var gasPrice=await provider.getGasPrice();console.log('gasPrice',gasPrice);var overrides={value:price,from:currentAccount,gasPrice:gasPrice,};const gas=await contract.estimateGas.mint(1,overrides);console.log('gas',gas);var contractSigner=contract.connect(signer);try{overrides.gasLimit=2100000;var tx=await contractSigner.mint(1,overrides);console.log('tx',tx);localStorage.setItem("tx",tx.hash);status=-1;setTimeout(checkTransaction,1000);setMessage(`Please check your tx <a target="_blank" href=https://rinkeby.etherscan.io/tx/${tx.hash}>here</a>.`);$('#generate_pionaut').html("Processing Tx...");}catch(err){console.log('err',err);}}catch(err){console.log('balance err',err);}}